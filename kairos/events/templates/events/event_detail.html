{% extends 'layout.html' %}

{% block title %}Event Dashboard{% endblock %}

{% block content %}

<div class="max-w-4xl mx-auto mt-16 bg-white p-10 rounded-2xl shadow-xl">

  
    <h1 class="text-3xl font-bold text-dark mb-2">{{ event.title }}</h1>
    <p class="text-gray-600 mb-6">{{ event.body }}</p>

    <p class="text-sm text-gray-400 mb-8">
        Event date: {{ event.date }}
    </p>

    <!-- ===== Dashboard ===== -->
    <div class="grid grid-cols-1 md:grid-cols-3 gap-6">

        <!-- YES -->
        <div class="p-4 rounded-xl border border-green-300 bg-green-50">
            <h2 class="text-xl font-semibold text-green-700">Yes (Attending)</h2>
            <ul class="mt-3 space-y-2">
                {% for p in yes %}
                    <li class="text-gray-700">{{ p.user.username }}</li>
                {% empty %}
                    <li class="text-gray-400">No confirmations yet</li>
                {% endfor %}
            </ul>
        </div>

        <!-- NO -->
        <div class="p-4 rounded-xl border border-red-300 bg-red-50">
            <h2 class="text-xl font-semibold text-red-700">No</h2>
            <ul class="mt-3 space-y-2">
                {% for p in no %}
                    <li class="text-gray-700">{{ p.user.username }}</li>
                {% empty %}
                    <li class="text-gray-400">No declines yet</li>
                {% endfor %}
            </ul>
        </div>

        <!-- NOT RESPONDED -->
        <div class="p-4 rounded-xl border border-gray-300 bg-gray-50">
            <h2 class="text-xl font-semibold text-gray-700">Not Responded</h2>
            <ul class="mt-3 space-y-2">
                {% for user in not_responded %}
                    <li class="text-gray-700">{{ user.username }}</li>
                {% empty %}
                    <li class="text-gray-400">Everyone responded</li>
                {% endfor %}
            </ul>
        </div>

    </div>

    <!-- RSVP Buttons -->
    <div class="mt-10 flex space-x-4">
        <a href="{% url 'events:rsvp_yes' event.id %}"
           class="px-6 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700">
            I’m Attending
        </a>

        <a href="{% url 'events:rsvp_no' event.id %}"
           class="px-6 py-3 bg-red-600 text-white rounded-lg hover:bg-red-700">
            I’m Not Attending
        </a>
    </div>
    <a href="/events/" class="text-primary-200 underline hover:text-primary-100">
        ← Back to Events
    </a>
</div>

{% endblock %}

